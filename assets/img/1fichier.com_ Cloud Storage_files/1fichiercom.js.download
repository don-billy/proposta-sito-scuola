// Initialize code
var r89 = r89 || {};

// Set defaults
r89.loaded = false;
r89.tagsLoadPrepareStatus = false;
r89.processAds = true;

// Stop loading tag if publisher defines it so
if (typeof r89.pageConfig !== 'undefined' && typeof r89.pageConfig.noAds !== 'undefined' && r89.pageConfig.noAds == true) {
    r89.processAds = false;
}

r89.restrictedAds = false;

// Restrict ads on page (no AdX) if publisher defines it so
if (typeof r89.pageConfig !== 'undefined' && typeof r89.pageConfig.restrictedContent !== 'undefined' && r89.pageConfig.restrictedContent == true) {
    r89.restrictedAds = true;
}

r89.measuredAdLoad = false;

if (window.top.location.href.indexOf('preview=1') > -1) {
    r89.preview = true;
}
else {
    r89.preview = false;
}

r89.gptPublisherInitialized = false;
r89.window = window.top.document;
r89.selectorWindow = r89.window;
r89.head = window.top.document.head;

r89.cmp = {
    active: 1,
    cookieConsent: true,
    passed: false,
    cookieName: "cmp_oil_passed",
    cookieExpires: 365,
    cookieExpiresMinimum: 60,
    consentData: false,
    consentString: false,
    allowAuctionWithoutConsent: true,
    setRequestNonPersonalizedAds: false
};

if (r89.preview) {
    r89.browsi = false;
}
else {
    r89.browsi = false;
}

r89.tracking = [];
r89.timeouts = {
    prebidServer: 600,
    prebidCmp: 8000
};

r89.prebid = {
    priceGranularity: {
        "buckets" : [
            {
                "precision": 2,
                "max" : 3,
                "increment" : 0.01
            },
            {
                "max" : 8,
                "increment" : 0.05
            },
            {
                "max" : 20,
                "increment" : 0.10
            },
            {
                "max" : 25,
                "increment" : 0.25
            }
        ]
    },
    bids: [],
    adunitBids: [],
    bidderCounts: []
};
r89.settings = {
    performanceLogging: true,
    performanceNow: performance.now(),
    gamNetworkId: '15748617',
    gamChildNetworkId: '22528088589',
    gamTagNetworkId: '15748617,22528088589',
    gamAdSlot: '1fichiercom',
    website: '1fichier.com',
    loopCount: 1,
    hasAdsenseFallback: 0,
    adsenseClientId: 'ca-pub-0679975395820445',
    labelText: '&#x25BC; Advertentie door <a style="color:#999999; text-decoration:underline; display:inline;" href="https://refinery89.com/?utm_source=1fichier.com&utm_medium=referral&utm_campaign=Ad-label" target="_blank" rel="nofollow">Refinery89</a>',
    labelStyle: {"color":"#999999","textAlign":"center","fontSize":"12px","lineHeight":"16px","margin":"0px","padding":"4px 0 3px 5px","fontFamily":"Arial"},
    prioritizeCustomAdUnits: 0,
    video: {
        gamNetworkId: '15748617',
        gamChildNetworkId: '22528088589',
        gamTagNetworkId: '15748617,22528088589',
        // buildVideoUrlBidders: ["appnexus"],
        buildVideoUrlBidders: ["appnexus", "pubmatic"],
        outstreamCollapseTime: 600,
        labelText: '&#x25BC; Advertentie door <a style="color:#999999; text-decoration:underline; display:inline;" href="https://refinery89.com/?utm_source=1fichier.com&utm_medium=referral&utm_campaign=Ad-label" target="_blank" rel="nofollow">Refinery89</a>',
        labelStyle: {"color":"#999999","textAlign":"center","fontSize":"12px","lineHeight":"16px","margin":"0px","padding":"4px 0 3px 5px","fontFamily":"Arial"},
        sourceFile: "https://tags.refinery89.com/video/black.mp4",
        adCancelTimeout: 3000,
        startExpanded: false,
        displayFallback: false,
        hasPrebidVideoBid: false,
        hasStarted: false,
        hasEnded: false,
        cornerScrollActive: false,
        // prebidFloor: 10,
        prebidFloor: 1.9,
        imaLoaded: false,
        callbackLoaded: false,
        closeButtonTimeout: 5000,
        inScreen: false,
    },
    stickyFooter: {
        divIds: [
            'r89-desktop-billboard-low',
            'r89-tablet-billboard-low',
            'r89-mobile-sticky-footer',
            'r89-desktop-billboard-low-1',
            'r89-tablet-billboard-low-1',
            'r89-mobile-sticky-footer-1',
            'r89-desktop-billboard-low-1-0',
            'r89-tablet-billboard-low-1-0',
            'r89-mobile-sticky-footer-1-0'
        ],
        cookieName: 'r89_sticky_footer_timeout',
        desktopCap: 0,
        mobileCap: 0,
        desktopTimeout: 0,
        mobileTimeout: 0,
        gamOrderIdsFilter: [2565064030, 2565063550, 2823227725, 2758760599, 2758307477, 3009150654, 3008364172],
        prebidBidderCodesFilter: ['justpremium', 'seedtag'],
        closeButtonClass: "r89-sticky-footer-close-button",
        closeButtonAfter: 800,
        maxHeight: "100px",
    },
    stickyHeader: {
        divIds: [],
        gamOrderIdsFilter: [],
        closeButtonClass: "r89-sticky-header-close-button",
        closeButtonAfter: 800,
        maxHeight: "100px",
    },
    filter: {
        blocked: {
            urls: {
                partial: [],
                exact: []
            }
        },
        restricted: {
            urls: {
                partial: [],
                exact: []
            }
        }
    },
    elasticNative: {
        insertDivId: "elastic-native-wrapper",
        insertDivElement: null,
        gamDivId: "r89-elastic-native",
        gamMeasureDivId: "r89-elastic-native-measure",
        gamMeasureSlot: null,
        gamMeasureCalled: false,
        viewTime: 30000, // The default timeout, will be overwritten by the native settings
        measuredTime: 0,
        intervalTime: 2500,
        inView: false,
        labelText: 'â–¼ Gesponsord',
        labelStyle: {
            "color":"#999999",
            "textAlign":"center",
            "fontSize":"12px",
            "lineHeight":"16px",
            "margin":"0px 0px 15px 0px",
            "padding":"4px 0 6px 5px",
            "fontFamily":"Arial",
            "borderBottom":"1px solid #ccc"
        },
    },
    refresh: {
        // startTime: 30000,
        // time: 5000,
        // intervalTime: 2500,
        // updateTime: 2500,
        allowedHeights: [
            50,
            100,
            240,
            250,
            280,
            600,
            90,
            250
        ],
        adxOrderIds: [
            2371513412,
            2281019490, // test campaign
            2999903022, // Taboola fallback
            2892726176, // Adsense
        ],
        prebidOrderIds: [
            // 2913018680, 2913011234, // Opera
            2886961339, 2886671984, // Verizon
            2883403893, 2882729168, // Triplelift
            // 2834945511, 2834233156, // Adagio
            // 2825746481, 2826517335, // Adform
            // 2686266175, 2686266169, // SOVRN
            2565037409, 2565614794, // Criteo
            // 2564970407, 2564970401, // Smart, unable due to iframe manipulation
            // 2565485455, 2565893919, // OpenX
            2565393241, 2565817809, // Rubicon
            2564542496, 2565553890, // Appnexus
            2565485455, 2565893919, // Pubmatic
        ],
        adUnits: {},
    },
    skipGAM: {
        adUnits: [],
        floor: 0.01
    }
};

r89.refreshSlotsOnLoad = [];
r89.lazyLoadSlots = [];
r89.adUnitsInserted = false;
r89.adUnitsInsertedRequestedOnLoad = false;
r89.adUnitsInsertedIntervalCount = 0;

r89.currentUrl = {
    protocol: window.location.protocol,
    href: window.location.href.replace(/\/$/, ''),
    host: window.location.hostname.replace('www.', ''),
    hostRaw: window.location.hostname,
    path: ((window.location.pathname == "/") ? "/" : window.location.pathname.replace(/\/$/, '') ),
};

r89.analytics = {
    events: [],
    loaded: false,
    trackerName: null,
};

r89.analytics.getTrackerName = function() {
    ga(function() {
        var gaTrackers = ga.getAll();
        if (gaTrackers.length > 0) {
            r89.analytics.trackerName = gaTrackers[0].get('name');
        }
    });
};

r89.analytics.sendEvent = function(category, action) {

    if (r89.analytics.loaded) {
        ga(r89.analytics.trackerName + '.send', {
            hitType: 'event',
            eventCategory: category,
            eventAction: action
        });
        r89.log("Analytics: " + category + "," + action);
    }
    else {
        r89.analytics.events.push([category, action]);
    }
}


// Targeting opties
r89.keyValues = {
    titleTags: [],
    iabContentTaxonomy: ["596"],
    lotameContentTaxonomy: ["596"],
    screenWidth: '0-320',
    pageData: false,
    pageDataCheckCount: 0,
    pageDataMaxChecks: 5,
    pageDataInterval: 100,
    pageIABContextTaxonomy: [],
    pageTopics: [],
};

// Adsense fallback slots
r89.adsenseFallbacks = [];

r89.loadNamespace = function() {
    r89.body = window.top.document.body;
    r89.screenWidth = document.documentElement.clientWidth;
    r89.screenHeight = document.documentElement.clientHeight;
    r89.device = (r89.body.scrollWidth < 992 || document.documentElement.clientWidth < 992) ? 'mobile' : 'desktop';
    r89.timeouts.prebid = (r89.device == 'desktop') ? 1000 : 1000;
};

r89.loadKeyValues = function() {

    var kv_title = document.title.toLowerCase().normalize('NFD').replace(/[^\w\s]/gi, '').replace(/ +(?= )/g,'');
    var kv_tags = kv_title.split(" ");

    for (var i = 0; i < kv_tags.length; i++) {

        if (kv_tags[i].length > 2 && r89.keyValues.titleTags.indexOf(kv_tags[i]) == -1) {
            r89.keyValues.titleTags.push(kv_tags[i]);
        }
    }

    // Screen resolution key value
    if (r89.screenWidth < 320) { r89.keyValues.screenWidth = '0-320'; }
    else if (r89.screenWidth < 360) { r89.keyValues.screenWidth = '320-360'; }
    else if (r89.screenWidth < 375) { r89.keyValues.screenWidth = '360-375'; }
    else if (r89.screenWidth < 414) { r89.keyValues.screenWidth = '375-414'; }
    else if (r89.screenWidth < 768) { r89.keyValues.screenWidth = '414-768'; }
    else if (r89.screenWidth < 992) { r89.keyValues.screenWidth = '768-992'; }
    else if (r89.screenWidth < 1024) { r89.keyValues.screenWidth = '992-1024'; }
    else if (r89.screenWidth < 1152) { r89.keyValues.screenWidth = '1024-1152'; }
    else if (r89.screenWidth < 1280) { r89.keyValues.screenWidth = '1152-1280'; }
    else if (r89.screenWidth < 1440) { r89.keyValues.screenWidth = '1280-1440'; }
    else if (r89.screenWidth < 1680) { r89.keyValues.screenWidth = '1440-1680'; }
    else if (r89.screenWidth < 1920) { r89.keyValues.screenWidth = '1680-1920'; }
    else { r89.keyValues.screenWidth = '1920-plus'; }
};

// Set scripts
r89.log = function(str) {

        if (r89.preview) {
        console.log("R89 | " + str);
    }
    };

r89.performanceNow = function() {
    if (r89.settings.performanceLogging) {

        let now = performance.now();
        let diff = now - r89.settings.performanceNow;
        r89.settings.performanceNow = now;

        r89.log('Timestamp: ' + performance.now() + ' | Since previous timer: ' + diff);
    }
}

// Make a random number
r89.randomId = function() {
    return Math.round(new Date().getTime() / 1000);
};

r89.getElementTopOffset = function(elem) {
    var location = 0;
    if (elem.offsetParent) {
        do {
            location += elem.offsetTop;
            elem = elem.offsetParent;
        } while (elem);
    }
    return location >= 0 ? location : 0;
};

// Set events
r89.eventMethod = window.addEventListener ? 'addEventListener' : 'attachEvent';
r89.messageEvent = r89.eventMethod === 'attachEvent' ? 'onmessage' : 'message';
r89.measure = function(segment, action) {

    r89.log("Measure: " + segment + "," + action);

    if (window.top.document.body !== null) {

        var measure_pixel = document.createElement("img");
        measure_pixel.src = 'https://measure.refinery89.com/' + segment + '/1273/' + action;
        measure_pixel.style.position = "absolute";
        measure_pixel.style.visibility = "hidden";
        measure_pixel.style.width = "1px";
        measure_pixel.style.height = "1px";
        measure_pixel.style.maxWidth = "1px";
        measure_pixel.style.bottom = "0";
        measure_pixel.style.left = "0";
        measure_pixel.width = "1";
        measure_pixel.height = "1";

        window.top.document.body.appendChild(measure_pixel);
    }
    else {
        fetch('https://measure.refinery89.com/' + segment + '/1273/' + action, {
            method: 'GET',
            mode: 'no-cors'
        });
    }
}

r89.measure('website', 'tag_load');
var preloadLink = null;


preloadLink = document.createElement("link");
preloadLink.href = "https://tags.refinery89.com/prebid/prebid6.29.3.js";
preloadLink.rel = "preload";
preloadLink.as = "script";
r89.head.appendChild(preloadLink);


var preconnectLink = null;


preconnectLink = document.createElement("link");
preconnectLink.href = "https://ib.adnxs.com";
preconnectLink.rel = "preconnect";
r89.head.appendChild(preconnectLink);


preconnectLink = document.createElement("link");
preconnectLink.href = "https://prg.smartadserver.com";
preconnectLink.rel = "preconnect";
r89.head.appendChild(preconnectLink);


preconnectLink = document.createElement("link");
preconnectLink.href = "https://adx.adform.net";
preconnectLink.rel = "preconnect";
r89.head.appendChild(preconnectLink);


preconnectLink = document.createElement("link");
preconnectLink.href = "https://tlx.3lift.com";
preconnectLink.rel = "preconnect";
r89.head.appendChild(preconnectLink);

r89.prebid.bids['Desktop-300x600-ATF'] = [{"bidder":"appnexus","params":{"placementId":25120100,"keywords":{"ad_slot":"Desktop-HPA-ATF"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73025,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459475","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803969}},{"bidder":"adform","params":{"mid":1475991,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-300x600-ATF","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop_300x600_ATF"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-300x600-ATF"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787775252672","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":870304787}},{"bidder":"sharethrough","params":{"pkey":"ZhqNfeRLsaOuMhiCu9INjObB"}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-300x600-ATF"}}];
    r89.prebid.bidderCounts['Desktop-300x600-ATF'] = 0;
    r89.prebid.bids['Desktop-300x600-BTF'] = [{"bidder":"appnexus","params":{"placementId":25120101,"keywords":{"ad_slot":"Desktop-HPA-BTF"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73026,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459502","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803971}},{"bidder":"adform","params":{"mid":1475992,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-300x600-BTF","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop_300x600_BTF"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-300x600-BTF"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787775252672","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":145883063}},{"bidder":"sharethrough","params":{"pkey":"NvcvIe8eSQaJgWA62iVAM1JN"}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-300x600-BTF"}}];
    r89.prebid.bidderCounts['Desktop-300x600-BTF'] = 0;
    r89.prebid.bids['Desktop-300x250-ATF'] = [{"bidder":"appnexus","params":{"placementId":25120097,"keywords":{"ad_slot":"Desktop-HPA-ATF"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73028,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459420","publisherId":"4459448"}},{"bidder":"weborama","params":{"placementId":22803966}},{"bidder":"adform","params":{"mid":1475987,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-300x250-ATF","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop_300x250_ATF"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-300x250-ATF"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787775252672","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":492285467}},{"bidder":"sharethrough","params":{"pkey":"xJf7NsfF4zDApFZIhbPSmoz4"}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-300x250-ATF"}}];
    r89.prebid.bidderCounts['Desktop-300x250-ATF'] = 0;
    r89.prebid.bids['Desktop-300x250-BTF'] = [{"bidder":"appnexus","params":{"placementId":25120098,"keywords":{"ad_slot":"Desktop-HPA-BTF"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73029,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459448","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803968}},{"bidder":"adform","params":{"mid":1475988,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-300x250-BTF","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop_300x250_BTF"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-300x250-BTF"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787775252672","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":943271176}},{"bidder":"sharethrough","params":{"pkey":"BSW8P5cICIWJ03BW6S5BBqEn"}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-300x250-BTF"}}];
    r89.prebid.bidderCounts['Desktop-300x250-BTF'] = 0;
    r89.prebid.bids['Desktop-728x90-ATF'] = [{"bidder":"appnexus","params":{"placementId":25120102,"keywords":{"ad_slot":"Desktop-Billboard-ATF"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73942,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459528","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803973}},{"bidder":"adform","params":{"mid":1475995,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-728x90-ATF","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop_728x90"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-728x90-ATF"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787775252672","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":742492564}},{"bidder":"sharethrough","params":{"pkey":"ozC2sAePm7ty8pG4YqTIO2w1"}},{"bidder":"adpone","params":{"placementId":12281911374590}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-728x90-ATF"}}];
    r89.prebid.bidderCounts['Desktop-728x90-ATF'] = 0;
    r89.prebid.bids['Desktop-728x90-BTF'] = [{"bidder":"appnexus","params":{"placementId":25120103,"keywords":{"ad_slot":"Desktop-Billboard-BTF"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73941,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459556","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803974}},{"bidder":"adform","params":{"mid":1475996,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-728x90-BTF","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop-728x90-BTF"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-728x90-BTF"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787775252672","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":141858943}},{"bidder":"sharethrough","params":{"pkey":"lygwuSXnOFS7QZZJULZ24srY"}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-728x90-BTF"}}];
    r89.prebid.bidderCounts['Desktop-728x90-BTF'] = 0;
    r89.prebid.bids['Desktop-970x250-ATF'] = [{"bidder":"appnexus","params":{"placementId":25120104,"keywords":{"ad_slot":"Desktop-Billboard-ATF"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73940,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459583","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803976}},{"bidder":"adform","params":{"mid":1475999,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-970x250-ATF","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop_970x250"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-970x250-ATF"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787775252672","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":330171723}},{"bidder":"sharethrough","params":{"pkey":"uiVjZENArX3S7jme4sMtEzKW"}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-970x250-ATF"}}];
    r89.prebid.bidderCounts['Desktop-970x250-ATF'] = 0;
    r89.prebid.bids['Desktop-970x250-BTF'] = [{"bidder":"appnexus","params":{"placementId":25120105,"keywords":{"ad_slot":"Desktop-Billboard-BTF"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73027,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459609","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803978}},{"bidder":"adform","params":{"mid":1476000,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-970x250-BTF","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop-970x250-BTF"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-970x250-BTF"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787775252672","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":685251766}},{"bidder":"sharethrough","params":{"pkey":"IaojeexLxPDU54s3IppX4V2H"}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-970x250-BTF"}}];
    r89.prebid.bidderCounts['Desktop-970x250-BTF'] = 0;
    r89.prebid.bids['Desktop-Pushup-728x90'] = [{"bidder":"appnexus","params":{"placementId":25120107,"keywords":{"ad_slot":"Desktop-Billboard-Low"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73942,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459666","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803981}},{"bidder":"sovrn","params":{"tagid":1057903}},{"bidder":"adform","params":{"mid":1475997,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-Pushup-728x90","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop_Pushup_728x90"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"ATF-3\/1fichiercom-Desktop-Pushup"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787775252672","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":427231424}},{"bidder":"sharethrough","params":{"pkey":"vuz1vHI641RlUTydjIbLZPR6"}},{"bidder":"adpone","params":{"placementId":12281911378819}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}}];
    r89.prebid.bidderCounts['Desktop-Pushup-728x90'] = 0;
    r89.prebid.bids['Desktop-Takeover'] = [{"bidder":"appnexus","params":{"placementId":25120108,"keywords":{"ad_slot":"Desktop-Takeover"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73024,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459693","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803982}},{"bidder":"adform","params":{"mid":1475998,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-Takeover","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop_Takeover"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-Takeover"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787775252672","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":428868556}},{"bidder":"sharethrough","params":{"pkey":"r3KX9qmo4B3hAiAtkJJSPDzD"}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-Takeover"}}];
    r89.prebid.bidderCounts['Desktop-Takeover'] = 0;
    r89.prebid.bids['Mobile-300x250-Low'] = [{"bidder":"appnexus","params":{"placementId":25120110,"keywords":{"ad_slot":"Mobile-Rectangle-Low"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73031,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459746","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803984}},{"bidder":"adform","params":{"mid":1475990,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"mobile","organizationId":1117,"placement":"1fichier.com-Mobile-300x250-Low","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Mobile-300x250-Low"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Mobile-300x250-Low"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":306926883}},{"bidder":"sharethrough","params":{"pkey":"yHDahe2AFccREsl5zJdXQ1ZD"}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Mobile-300x250-Low"}}];
    r89.prebid.bidderCounts['Mobile-300x250-Low'] = 0;
    r89.prebid.bids['Mobile-300x250-Mid'] = [{"bidder":"appnexus","params":{"placementId":25120111,"keywords":{"ad_slot":"Mobile-Rectangle-Mid"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73029,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459773","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803985}},{"bidder":"adform","params":{"mid":1475989,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"mobile","organizationId":1117,"placement":"1fichier.com-Mobile-300x250-Mid","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Mobile-300x250-Mid"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Mobile-300x250-Mid"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":800810053}},{"bidder":"sharethrough","params":{"pkey":"HlcW0aPlGCQ1eqA9Wm1XR3ps"}},{"bidder":"adpone","params":{"placementId":12281911372665}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Mobile-300x250-Mid"}}];
    r89.prebid.bidderCounts['Mobile-300x250-Mid'] = 0;
    r89.prebid.bids['Mobile-300x600-Mid'] = [{"bidder":"appnexus","params":{"placementId":25120114,"keywords":{"ad_slot":"Mobile-Rectangle-Mid"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73029,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459832","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803987}},{"bidder":"adform","params":{"mid":1476002,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"mobile","organizationId":1117,"placement":"1fichier.com-Mobile-300x600-Mid","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Mobile-300x600-Mid"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Mobile-300x600-Mid"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":287225479}},{"bidder":"sharethrough","params":{"pkey":"kufbQhqiYNrRtSbO3Sk4JL9w"}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Mobile-300x600-Mid"}}];
    r89.prebid.bidderCounts['Mobile-300x600-Mid'] = 0;
    r89.prebid.bids['Mobile-320x100-Top'] = [{"bidder":"appnexus","params":{"placementId":25120117}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73028,"pageId":1580177,"siteId":507391}},{"bidder":"weborama","params":{"placementId":22803990}},{"bidder":"adform","params":{"mid":1475993,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"mobile","organizationId":1117,"placement":"1fichier.com-Mobile-320x100-Top","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Mobile-320x100-Top"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Mobile-320x100-Top"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":582423223}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Mobile-320x100-Top"}}];
    r89.prebid.bidderCounts['Mobile-320x100-Top'] = 0;
    r89.prebid.bids['Mobile-Sticky-320x100'] = [{"bidder":"appnexus","params":{"placementId":25120118,"keywords":{"ad_slot":"Mobile-Footer-Sticky"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73028,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459859","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803991}},{"bidder":"sovrn","params":{"tagid":1092314}},{"bidder":"adform","params":{"mid":1475994,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"mobile","organizationId":1117,"placement":"1fichier.com-Mobile-Sticky-320x100","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Mobile_Sticky_300x250"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"ATF-3\/1fichiercom-Mobile-pushup"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":287916547}},{"bidder":"sharethrough","params":{"pkey":"nthqOoYdxLAPUE6C4CZFFZ8B"}},{"bidder":"ogury","params":[]},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}}];
    r89.prebid.bidderCounts['Mobile-Sticky-320x100'] = 0;
    r89.prebid.bids['Native'] = [{"bidder":"appnexus","params":{"placementId":25120119}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop_Native"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Native"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":775376284}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Native"}}];
    r89.prebid.bidderCounts['Native'] = 0;
    r89.prebid.bids['Video-Outstream'] = [{"bidder":"triplelift","params":[]}];
    r89.prebid.bidderCounts['Video-Outstream'] = 0;
    r89.prebid.bids['Video-Instream'] = [{"bidder":"triplelift","params":[]}];
    r89.prebid.bidderCounts['Video-Instream'] = 0;
    r89.prebid.bids['Mobile-300x250-Top'] = [{"bidder":"appnexus","params":{"placementId":25120113,"keywords":{"ad_slot":"Mobile-Billboard-Top"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73028,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459801","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803986}},{"bidder":"adform","params":{"mid":1476007,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"mobile","organizationId":1117,"placement":"1fichier.com-Mobile-300x250-Top","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Mobile-300x250-Top"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Mobile-300x250-Top"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":596568262}},{"bidder":"sharethrough","params":{"pkey":"IMyCnbm1z1rMEipmvlZB0PFB"}},{"bidder":"adpone","params":{"placementId":12281911365759}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Mobile-300x250-Top"}}];
    r89.prebid.bidderCounts['Mobile-300x250-Top'] = 0;
    r89.prebid.bids['Desktop-160x600-ATF'] = [{"bidder":"appnexus","params":{"placementId":25120095}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73025,"pageId":1580177,"siteId":507391}},{"bidder":"weborama","params":{"placementId":22803963}},{"bidder":"adform","params":{"mid":1476001,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-160x600-ATF","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop_160x600"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-160x600-ATF"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":773738798}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-160x600-ATF"}}];
    r89.prebid.bidderCounts['Desktop-160x600-ATF'] = 0;
    r89.prebid.bids['Desktop-160x600-BTF'] = [{"bidder":"appnexus","params":{"placementId":25120096}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73025,"pageId":1580177,"siteId":507391}},{"bidder":"weborama","params":{"placementId":22803965}},{"bidder":"adform","params":{"mid":1476006,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-160x600-BTF","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Desktop-160x600-BTF"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-160x600-BTF"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":702549806}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-160x600-BTF"}}];
    r89.prebid.bidderCounts['Desktop-160x600-BTF'] = 0;
    r89.prebid.bids['Mobile-300x250-Infinite'] = [{"bidder":"appnexus","params":{"placementId":25120109,"keywords":{"ad_slot":"Mobile-Rectangle-Infinite"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":73030,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459718","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803983}},{"bidder":"adform","params":{"mid":1476003,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"mobile","organizationId":1117,"placement":"1fichier.com-Mobile-300x250-Infinite","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Mobile-300x250-Infinite"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Mobile-300x250-Infinite"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":676792750}},{"bidder":"sharethrough","params":{"pkey":"gkk5fN5Czd2rXUpSPfUyq2m6"}},{"bidder":"adpone","params":{"placementId":12281911370215}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Mobile-300x250-Infinite"}}];
    r89.prebid.bidderCounts['Mobile-300x250-Infinite'] = 0;
    r89.prebid.bids['Mobile-320x100-Infinite'] = [{"bidder":"appnexus","params":{"placementId":25120115}},{"bidder":"weborama","params":{"placementId":22803988}},{"bidder":"adagio","params":{"environment":"mobile","organizationId":1117,"placement":"1fichier.com-Mobile-320x100-Infinite","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Mobile-320x100-Infinite"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Mobile-320x100-Infinite"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":635769613}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Mobile-320x100-Infinite"}}];
    r89.prebid.bidderCounts['Mobile-320x100-Infinite'] = 0;
    r89.prebid.bids['Mobile-320x100-Low'] = [{"bidder":"appnexus","params":{"placementId":25120116}},{"bidder":"weborama","params":{"placementId":22803989}},{"bidder":"adagio","params":{"environment":"mobile","organizationId":1117,"placement":"1fichier.com-Mobile-320x100-Low","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":{"inventoryCode":"Refinery89_RON_Mobile-320x100-Low"}},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Mobile-320x100-Low"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787776937600","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":754455235}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Mobile-320x100-Low"}}];
    r89.prebid.bidderCounts['Mobile-320x100-Low'] = 0;
    r89.prebid.bids['Desktop-inarticle'] = [{"bidder":"appnexus","params":{"placementId":25120106,"keywords":{"ad_slot":"Desktop-Hybrid"}}},{"bidder":"smartadserver","params":{"domain":"https:\/\/prg.smartadserver.com","formatId":112232,"pageId":1580177,"siteId":507391}},{"bidder":"pubmatic","params":{"adSlot":"4459636","publisherId":"158018"}},{"bidder":"weborama","params":{"placementId":22803980}},{"bidder":"adform","params":{"mid":1476008,"priceType":"net"}},{"bidder":"adagio","params":{"environment":"desktop","organizationId":1117,"placement":"1fichier.com-Desktop-inarticle","site":"1fichier-com","useAdUnitCodeAsAdUnitElementId":true}},{"bidder":"triplelift","params":[]},{"bidder":"outbrain","params":{"publisher":{"id":"000e1603e3e8ae430228ecc6109d5017d7","name":"Refinery89","domain":"refinery89.com"},"tagid":"1fichier.com-Desktop-inarticle"}},{"bidder":"operaads","params":{"endpointId":"ep5787769259968","placementId":"s5787775252672","publisherId":"pub5787767112000"}},{"bidder":"medianet","params":{"cid":"8CU3GWXE7","crid":"000"}},{"bidder":"adpone","params":{"placementId":12281911376911}},{"bidder":"onetag","params":{"pubId":"76fa0fedc93058d"}},{"bidder":"taboola","params":{"publisherId":1470205,"tagId":"1fichier.com-Desktop-inarticle"}}];
    r89.prebid.bidderCounts['Desktop-inarticle'] = 0;
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,function(){var n=e.Cookies,o=e.Cookies=t();o.noConflict=function(){return e.Cookies=n,o}}())}(this,(function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}return function t(n,o){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n.write(r,t)+c}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},r=0;r<t.length;r++){var i=t[r].split("="),c=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(o[u]=n.read(c,u),e===u)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){r(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}));

r89.cookies = Cookies.noConflict();
!function(f,_){"use strict";if("IntersectionObserver"in f&&"IntersectionObserverEntry"in f&&"intersectionRatio"in f.IntersectionObserverEntry.prototype)"isIntersecting"in f.IntersectionObserverEntry.prototype||Object.defineProperty(f.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var e=[];t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},t.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(n(f,"resize",this._checkForIntersections,!0),n(_,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in f&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(_,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(f,"resize",this._checkForIntersections,!0),o(_,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var h=this._rootIsInDom(),c=h?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,n=m(e),o=this._rootContainsTarget(e),i=t.entry,r=h&&o&&this._computeTargetAndRootIntersection(e,c),s=t.entry=new a({time:f.performance&&performance.now&&performance.now(),target:e,boundingClientRect:n,rootBounds:c,intersectionRect:r});i?h&&o?this._hasCrossedThreshold(i,s)&&this._queuedEntries.push(s):i&&i.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=f.getComputedStyle(t).display){for(var n,o,i,r,s,h,c,a,u=m(t),l=v(t),p=!1;!p;){var d=null,g=1==l.nodeType?f.getComputedStyle(l):{};if("none"==g.display)return;if(l==this.root||l==_?(p=!0,d=e):l!=_.body&&l!=_.documentElement&&"visible"!=g.overflow&&(d=m(l)),d&&(n=d,o=u,void 0,i=Math.max(n.top,o.top),r=Math.min(n.bottom,o.bottom),s=Math.max(n.left,o.left),h=Math.min(n.right,o.right),a=r-i,!(u=0<=(c=h-s)&&0<=a&&{top:i,bottom:r,left:s,right:h,width:c,height:a})))break;l=v(l)}return u}},t.prototype._getRootRect=function(){var t;if(this.root)t=m(this.root);else{var e=_.documentElement,n=_.body;t={top:0,left:0,right:e.clientWidth||n.clientWidth,width:e.clientWidth||n.clientWidth,bottom:e.clientHeight||n.clientHeight,height:e.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},t.prototype._expandRectByRootMargin=function(n){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?n.width:n.height)/100}),e={top:n.top-t[0],right:n.right+t[1],bottom:n.bottom+t[2],left:n.left-t[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},t.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},t.prototype._rootIsInDom=function(){return!this.root||i(_,this.root)},t.prototype._rootContainsTarget=function(t){return i(this.root||_,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},f.IntersectionObserver=t,f.IntersectionObserverEntry=a}function a(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var n,o,i,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout(function(){n(),i=null},o))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function n(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function o(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function m(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function i(t,e){for(var n=e;n;){if(n==t)return!0;n=v(n)}return!1}function v(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}(window,document);
r89.stickyFooter = {};

r89.stickyFooter.closeButton = function(slotDivParent, slotId) {

    var closeStickyFooterButton = document.createElement('span');

    const iconSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    const iconPath = document.createElementNS(
    'http://www.w3.org/2000/svg',
    'path'
    );

    iconSvg.setAttribute('fill', 'none');
    iconSvg.setAttribute('viewBox', '0 0 18 18');
    iconSvg.setAttribute('stroke', '#bbb');
    iconSvg.style.margin = "3px 0 0 4px";

    iconPath.setAttribute(
    'd',
    'M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z'
    );
    iconPath.setAttribute('stroke-linecap', 'round');
    iconPath.setAttribute('stroke-linejoin', 'round');
    iconPath.setAttribute('stroke-width', '2');

    iconSvg.appendChild(iconPath);

    closeStickyFooterButton.appendChild(iconSvg);

    closeStickyFooterButton.style.cssText = [
        'position: absolute;',
        'top: -30px;',
        'right: 0;',
        'z-index: 9999;',
        'background: ' + slotDivParent.style.backgroundColor + ';',
        'border-top-left-radius: 10px;',
        'border-top: 1px solid #ccc;',
        'border-left: 1px solid #ccc;',
        'width: 34px;',
        'height: 30px;',
        'color: #ccc;',
        'cursor: pointer;',
        'line-height: 30px;',
        'font-size: 20px;',
        'font-family: helvetica;',
        'text-align: center;',
        'display: none;',
        'box-sizing: content-box;'
    ].join('\n');

    closeStickyFooterButton.className = r89.settings.stickyFooter.closeButtonClass;

    slotDivParent.appendChild(closeStickyFooterButton);

    setTimeout(function() {
        closeStickyFooterButton.style.display = "block";
    }, r89.settings.stickyFooter.closeButtonAfter);

    closeStickyFooterButton.addEventListener("click", function() {
        slotDivParent.style.display = "none";

        if (typeof slotId !== 'undefined' && slotId in r89.settings.refresh.adUnits) {
            r89.settings.refresh.adUnits[slotId].useRefresh = false;
        }
    });

    return closeStickyFooterButton;
}

r89.stickyFooter.placeCookies = function() {

    // Capping cookie plaatsen voor sticky footer posities met cap
    if (r89.device == 'desktop' && r89.settings.stickyFooter.desktopCap > 0) {
        r89.cookies.set(r89.settings.stickyFooter.cookieName, '1', { expires: new Date(new Date().getTime() + r89.settings.stickyFooter.desktopCap * 60 * 1000), secure: true });
    }
    else if (r89.device == 'mobile' && r89.settings.stickyFooter.mobileCap > 0) {
        r89.cookies.set(r89.settings.stickyFooter.cookieName, '1', { expires: new Date(new Date().getTime() + r89.settings.stickyFooter.mobileCap * 60 * 1000), secure: true });
    }
}

r89.stickyHeader = {};

r89.stickyHeader.closeButton = function(slotDivParent, slotId) {

    var closeStickyHeaderButton = document.createElement('span');

    const iconSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    const iconPath = document.createElementNS(
    'http://www.w3.org/2000/svg',
    'path'
    );

    iconSvg.setAttribute('fill', 'none');
    iconSvg.setAttribute('viewBox', '0 0 18 18');
    iconSvg.setAttribute('stroke', '#bbb');
    iconSvg.style.margin = "3px 0 0 4px";

    iconPath.setAttribute(
    'd',
    'M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z'
    );
    iconPath.setAttribute('stroke-linecap', 'round');
    iconPath.setAttribute('stroke-linejoin', 'round');
    iconPath.setAttribute('stroke-width', '2');

    iconSvg.appendChild(iconPath);

    closeStickyHeaderButton.appendChild(iconSvg);

    closeStickyHeaderButton.style.cssText = [
        'position: absolute;',
        'bottom: -30px;',
        'right: 0;',
        'z-index: 9999;',
        'background: ' + slotDivParent.style.backgroundColor + ';',
        'border-bottom-left-radius: 10px;',
        'border-bottom: 1px solid #ccc;',
        'border-left: 1px solid #ccc;',
        'width: 34px;',
        'height: 30px;',
        'color: #ccc;',
        'cursor: pointer;',
        'line-height: 30px;',
        'font-size: 20px;',
        'font-family: helvetica;',
        'text-align: center;',
        'display: none;',
        'box-sizing: content-box;'
    ].join('\n');

    closeStickyHeaderButton.className = r89.settings.stickyHeader.closeButtonClass;

    slotDivParent.appendChild(closeStickyHeaderButton);

    setTimeout(function() {
        closeStickyHeaderButton.style.display = "block";
    }, r89.settings.stickyHeader.closeButtonAfter);

    closeStickyHeaderButton.addEventListener("click", function() {
        slotDivParent.style.display = "none";

        if (typeof slotId !== 'undefined' && slotId in r89.settings.refresh.adUnits) {
            r89.settings.refresh.adUnits[slotId].useRefresh = false;
        }
    });

    return closeStickyHeaderButton;
}
r89.cookielessLoad = function() {
    // In-image toevoegen
    if (typeof r89.insertInImageCookieless === 'function') {
        r89.insertInImageCookieless();
    }
}

r89.tagsLoad = function() {

    // Controleren of de tags al ingeladen zijn om dubbele plaatsing te voorkomen
    if (r89.loaded) {
        r89.log("Tags: already loaded before.");
        return;
    }

    r89.log("Tags: Loading.");

	r89.loaded = true;

    if (r89.processAds === false) {
        r89.log("Tags: Loading stopped.");
        return;
    }

    if (r89.cmp.cookieConsent === false) {
        r89.log("Tags: Loading stopped due to no cookie consent.");
        r89.cookielessLoad();
        return;
    }

    // Load Prebid script
    r89.pbjsInsert();

    // Tracking pixels inladen
    r89.loadTrackingPixels();

    
        // Refresh ad slots
    window.setTimeout(function() {

        r89.log("Start refresh timer count.");

        window.setInterval(function() {

            // r89.log("Run refresh check");

            var latest_refresh_check = Date.now() - 30000;

            for (var id in r89.settings.refresh.adUnits) {

                var adUnit = r89.settings.refresh.adUnits[id];

                if (adUnit.inview === true && adUnit.useRefresh === true && adUnit.timeInview > 5000 && (adUnit.latest_refresh == false || adUnit.latestRefresh < latest_refresh_check) ) {

                    // Reset in view time before Google push to prevent too quick reloads
                    adUnit.timeInview = 0;
                    adUnit.latestRefresh = false;

                    googletag.cmd.push(function() {

                        r89.log("Refresh " + adUnit.id);

                        // Set wrapper height
                        var refreshAdUnitComputed = window.getComputedStyle(adUnit.adUnitWrapper);

                        if (adUnit.refreshSizes.length == 0) {
                                                            adUnit.adUnitWrapper.style.height = refreshAdUnitComputed.getPropertyValue('height');

                                // Loop through allowed sizes
                                for (var au_i = 0; au_i < adUnit.sizes.length; au_i++) {
                                    if (adUnit.sizes[au_i][1] <= adUnit.size[1]) {
                                        adUnit.refreshSizes.push(adUnit.sizes[au_i]);
                                    }
                                }
                                                    }

                        // Remove timer
                        if (r89.settings.refresh.adUnits[id].timer !== null) {
                            window.clearInterval(r89.settings.refresh.adUnits[id].timer);
                            r89.settings.refresh.adUnits[id].timer = null;
                        }

                        // Destroy old ad slot
                        googletag.destroySlots([adUnit.adslot]);

                        // Reset counters
                        r89.settings.refresh.adUnits[id].viewable = false;
                        r89.settings.refresh.adUnits[id].timeInview = 0;
                        r89.settings.refresh.adUnits[id].inview = false;

                        // DFP ad slot bepalen
                        var slot = googletag.defineSlot("/" + r89.settings.gamTagNetworkId + "/" + adUnit.gamAdUnit, adUnit.refreshSizes, adUnit.id);
                        slot.setTargeting('ad_slot', adUnit.adSlotName);
                        slot.setTargeting('google_demand', adUnit.googleDemand);
                        slot.setTargeting('rfr', 1);
                        // slot.setTargeting('has_rfr', 1); // Enable this after multiple refreshes are available
                        slot.addService(googletag.pubads() );

                        // Overwrite ad slot reference
                        r89.settings.refresh.adUnits[id].adslot = slot;

                        googletag.display(id);

                        // console.log(adUnit);

                        // console.log(slot);

                        // Refresh ad unit
                        googletag.pubads().refresh([slot]);
                    });
                }
            }

        }, 3000);

    }, 30000);
    
    if (r89.settings.prioritizeCustomAdUnits) {
        // Custom units toevoegen
        r89.insertCustomAdUnits();

        // Ad units toevoegen
        r89.insertOnLoadAdUnits();
    }
    else {
        // Custom units toevoegen
        r89.insertCustomAdUnits();
    }

    function adUnitsInsertCheck() {

        r89.log("Ad Units insert check.");

        if (r89.adUnitsInserted && !r89.adUnitsInsertedRequestedOnLoad) {
            googletag.cmd.push(function() {
                r89.requestAds(r89.insertAdUnits.call_prebid, r89.insertAdUnits.call_amazon, r89.insertAdUnits.ad_unit_codes, r89.insertAdUnits.ad_units, r89.insertAdUnits.amazon_slots, r89.refreshSlotsOnLoad);
            });

            r89.adUnitsInsertedRequestedOnLoad = true;

            clearInterval(adUnitsInsertInterval);
        }

        ++r89.adUnitsInsertedIntervalCount;

        if (r89.adUnitsInsertedIntervalCount > 15) {
            clearInterval(adUnitsInsertInterval);
        }
    }

    // Request the ads
    if (r89.adUnitsInserted) {

        r89.log("Ad Units: Insert on load units on first try.");

                    r89.requestAds(r89.insertAdUnits.call_prebid, r89.insertAdUnits.call_amazon, r89.insertAdUnits.ad_unit_codes, r89.insertAdUnits.ad_units, r89.insertAdUnits.amazon_slots, r89.refreshSlotsOnLoad);
            }
    else {
        // Ad units insert not done yet, so wait until it is
        var adUnitsInsertInterval = setInterval(adUnitsInsertCheck, 250);
    }

    // Outstream toevoegen
    if (typeof r89.insertOutstream === 'function') {
        r89.insertOutstream();
    }
    else {
        r89.log("Video: No outstream function found.");
    }

    // Overlay toevoegen
    if (typeof r89.insertVideoOverlay === 'function') {
        r89.insertVideoOverlay();
    }

    // In-image toevoegen
    if (typeof r89.insertInImage === 'function') {
        r89.insertInImage();
    }

    // Infinite scroll toevoegen
    if (typeof r89.registerInfiniteScroll === 'function') {
        r89.registerInfiniteScroll();
    }

    // Insert elastic native scripts
    if (typeof r89.insertElasticNative === 'function') {
        setTimeout(r89.insertElasticNative, 5000); // Insert after 5 seconds
    }

    // Lotame check
    if (typeof r89.insertLotame === 'function') {
        setTimeout(r89.insertLotame, 8000); // Insert after 8 seconds
    }

    // Insert fallback scripts
    if (typeof r89.insertFallbacks === 'function') {
        r89.insertFallbacks();
    }
};

r89.loadTrackingPixels = function() {

    r89.log("Tags: Load tracking pixels");

    r89.tracking.forEach(function(pixel) {

        r89.log("Tags: Load pixel " + pixel);

        var p = document.createElement("img");
            p.setAttribute("src", pixel);
            p.setAttribute("height", "1");
            p.setAttribute("width", "1");
            p.style.position = "absolute";
            p.style.bottom = "0px";
            p.style.opacity = "0";
            r89.body.appendChild(p);
    });
};

var PWT = {};
PWT.jsLoaded = function() {
    r89.log("PWT | jsLoaded.");
    r89.tagsLoad();
};

r89.loadPWT = function() {
    r89.log("PWT | Load function.");

    var purl = window.location.href;
    var url = '//ads.pubmatic.com/AdServer/js/pwt/158018/3651';
    var profileVersionId = '';
    if(purl.indexOf('pwtv=')>0){
        var regexp = /pwtv=(.*?)(&|$)/g;
        var matches = regexp.exec(purl);
        if(matches.length >= 2 && matches[1].length > 0){
            profileVersionId = '/'+matches[1];
        }
    }
    var wtads = document.createElement('script');
    wtads.async = true;
    wtads.type = 'text/javascript';
    wtads.src = url+profileVersionId+'/pwt.js';
    var node = document.getElementsByTagName('script')[0];
    node.parentNode.insertBefore(wtads, node);

    setTimeout(r89.tagsLoad, 500);
};

r89.loadTeadsAnalytics = function(tag_id) {

    window.teads_analytics = window.teads_analytics || {};
    window.teads_analytics.analytics_tag_id = tag_id;
    window.teads_analytics.share = window.teads_analytics.share || function() {
        ;(window.teads_analytics.shared_data = window.teads_analytics.shared_data || []).push(arguments)
    };

    var teads_analytics_script = document.createElement('script');
    teads_analytics_script.async = true;
    teads_analytics_script.type = 'text/javascript';
    teads_analytics_script.src = 'https://a.teads.tv/analytics/tag.js';

    var node = document.getElementsByTagName('script')[0];
    node.parentNode.insertBefore(teads_analytics_script, node);
};

r89.readyStateTagsLoad = function() {

    if (r89.processAds === false) {
        r89.log("Tags: Ready state tag loads stopped.");
        return false;
    }

    
    r89.log("DOM Content: Checking");

    if (document.readyState === "loading") {
        r89.log("DOM Content: addEventListener");
        document.addEventListener("DOMContentLoaded", r89.tagsLoad);
    }
    else {
        r89.log("DOM Content: Ready");
        r89.tagsLoad();
    }
};
function insertDesktopSkin(backgroundImage, backgroundColor, backgroundAttachment) {

    if (typeof(backgroundColor) === 'undefined') {
        backgroundColor = '#000000';
    }

    if (typeof(backgroundAttachment) === 'undefined') {
        backgroundAttachment = 'scroll';
    }

    r89.addSkin(backgroundImage, backgroundColor, backgroundAttachment);
}

function insertDesktopSideLinks(link) {
    r89.addSkinLinks(link);
}

r89.addSkin = function(backgroundImage, backgroundColor, backgroundAttachment) {

    
    if (typeof(backgroundColor) === 'undefined') {
        backgroundColor = '#000000';
    }

    if (typeof(backgroundAttachment) === 'undefined') {
        backgroundAttachment = 'scroll';
    }

    r89.body.style.backgroundColor = backgroundColor;
    r89.body.style.backgroundImage = 'url(' + backgroundImage + ')';
    r89.body.style.backgroundPosition = "center " + 0 + "px";
    r89.body.style.backgroundRepeat = "no-repeat";
	r89.body.style.backgroundSize = "auto";
    r89.body.style.setProperty("background-attachment", backgroundAttachment, "important");
};

r89.addSkinLinks = function(link) {

            return false;
    
    var link_l = document.createElement('a');
    link_l.href = link;
    link_l.target = "_blank";
    link_l.style.width = "720px";
    link_l.style.position = "fixed";
    link_l.style.top = "0px";
    link_l.style.bottom = 0;
    link_l.style.right = "50%";
    link_l.style.marginRight = "0px";
    link_l.style.pointer = "cursor";
    link_l.style.zIndex = "9";
    r89.body.appendChild(link_l);

    var link_r = document.createElement('a');
    link_r.href = link;
    link_r.target = "_blank";
    link_r.style.width = "720px";
    link_r.style.position = "fixed";
    link_r.style.top = "0px";
    link_r.style.bottom = 0;
    link_r.style.left= "50%";
    link_r.style.marginLeft = "0px";
    link_r.style.pointer = "cursor";
    link_r.style.zIndex = "9";
    r89.body.appendChild(link_r);
};
r89.placeAdUnit = function(selector, position, id, ad_slot, gam_ad_unit, prebid_bidders, amazon, sizes, sizes_prebid, style, wrapper, wrapper_style, label, lazy_load, refresh, is_fallback, skip_gam, adsense_share, wrapper_sticky) {

    r89.log("Ad Unit: Place - " + id);

    // Controleren of de selector al een element is
    if (selector instanceof Element || selector instanceof HTMLDocument) {
        var reference_wrapper = selector;
    }
    else {
        var reference_wrapper = null;
        var selector_split = selector.split(",");

        for (var i = 0; i < selector_split.length; i++) {
            reference_wrapper = r89.selectorWindow.querySelector(selector_split[i]);
            if (reference_wrapper !== null) {
                break;
            }
        }
    }

    if (reference_wrapper === null) {
        r89.log("Ad Unit: Wrapper not found");
        return false;
    }

    // De ad unit div maken
    var ad_unit = document.createElement('div');
    ad_unit.id = id;

    var ad_unit_reference = ad_unit;

    // Label toevoegen
    if (label) {

        // r89.log("Ad Unit: Add label");

        var ad_unit_label = document.createElement('div');
        ad_unit_label.className = 'r89-ad-label';
        ad_unit_label.innerHTML = r89.settings.labelText;

        if (r89.settings.labelStyle) {
            Object.keys(r89.settings.labelStyle).forEach(key => {
                ad_unit_label.style[key] = r89.settings.labelStyle[key];
            });
        }

        ad_unit_label.style.display = 'none';

        var ad_unit_label_wrapper = document.createElement('div');

        if (wrapper_sticky) {
            ad_unit_label_wrapper.style.position = "sticky";
            ad_unit_label_wrapper.style.top = "0px";
        }

        ad_unit_label_wrapper.appendChild(ad_unit_label);

        ad_unit_label_wrapper.appendChild(ad_unit);

        ad_unit_reference = ad_unit_label_wrapper;
    }
    else if (wrapper_sticky) {
        var ad_unit_sticky_wrapper = document.createElement('div');
        ad_unit_sticky_wrapper.style.position = "sticky";
        ad_unit_sticky_wrapper.style.top = "0px";
        ad_unit_sticky_wrapper.appendChild(ad_unit);

        ad_unit_reference = ad_unit_sticky_wrapper;
    }

    // Styling toevoegen
    if (style) {
        Object.keys(style).forEach(key => {

            if (label) {
                ad_unit_label_wrapper.style[key] = style[key];
            }
            else {
                ad_unit.style[key] = style[key];
            }
        });
    }

    // Een wrapper toevoegen aan de ad unit div
    if (wrapper) {
        var ad_unit_wrapper = document.createElement('div');
        ad_unit_wrapper.id = id + '-wrapper';

        // Styling toevoegen
        if (wrapper_style) {
            Object.keys(wrapper_style).forEach(key => {
                ad_unit_wrapper.style[key] = wrapper_style[key];
            });
        }

        ad_unit_wrapper.appendChild(ad_unit_reference);

        // if (label) {
        //     ad_unit_wrapper.appendChild(ad_unit_label_wrapper);
        // }
        // else {
        //     ad_unit_wrapper.appendChild(ad_unit);
        // }

        ad_unit_reference = ad_unit_wrapper;
    }

    // De ad unit div op de pagina plaatsen
    if (position == 'insertBefore') {
        reference_wrapper.parentNode.insertBefore(ad_unit_reference, reference_wrapper);
    }
    else if (position == 'insertAfter') {
        if (reference_wrapper.nextElementSibling === null) {
            reference_wrapper.parentNode.appendChild(ad_unit_reference);
        }
        else {
            reference_wrapper.parentNode.insertBefore(ad_unit_reference, reference_wrapper.nextElementSibling);
        }
    }
    else if (position == 'appendChild') {
        reference_wrapper.appendChild(ad_unit_reference);
    }
    else {
        r89.log("Ad Unit: No valid position given");
        return false;
    }

    // Skip GAM code for this ad unit
    if (skip_gam) {
        r89.settings.skipGAM.adUnits.push(id);
        return true;
    }

    var google_demand = ((Math.random() * 100 < adsense_share) ? 'adsense' : 'adx');

    // GPT code toevoegen
    googletag.cmd.push(function() {

        r89.log("Ad Unit: Push GPT");

        // DFP ad slot bepalen
        var slot = googletag.defineSlot("/" + r89.settings.gamTagNetworkId + "/" + gam_ad_unit, sizes, id);
        slot.setTargeting('ad_slot', ad_slot);
        slot.setTargeting('google_demand', google_demand);
        slot.setTargeting('loop_count', r89.settings.loopCount);

        if (refresh) {
            slot.setTargeting('has_rfr', 1);
        }

        slot.addService(googletag.pubads() );
        googletag.display(id);

        if (is_fallback) {
            r89.fallbackAdSlot = slot;
            return true;
        }

        if (!lazy_load || lazy_load == 0) {
            r89.refreshSlotsOnLoad.push(slot);
        }
        else {
            r89.registerLazyLoadSlot(ad_unit, slot, gam_ad_unit, prebid_bidders, amazon, sizes, sizes_prebid, lazy_load);
        }

        // Add ad unit to refresh list if needed
        if (refresh) {
            r89.settings.refresh.adUnits[id] = {
                'id': id,
                'adslot': slot,
                'adUnitWrapper': ad_unit_wrapper,
                'gamAdUnit': gam_ad_unit,
                'adSlotName': ad_slot,
                'viewable': false,
                'timeInview': 0,
                'inview': false,
                'timer': null,
                'useRefresh': true,
                'size': null,
                'sizes': sizes,
                'refreshSizes': [],
                'latestRefresh': false,
                'googleDemand': google_demand
            };
        }

    });

    return true;
};

r89.registerLazyLoadSlot = function(ad_unit, slot, gam_ad_unit, prebid_bidders, amazon, sizes, sizes_prebid, lazy_load) {

    // r89.log("Ad Unit: " + ad_unit.id + " | Register lazy loading");

    // De afstand waarop we de observer willen laten afgaan
    var distance = Math.round(window.innerHeight * lazy_load) + 'px';

    if (lazy_load > 9) {
        distance = lazy_load * 1 + 'px';
    }

    r89.log("Ad Unit: " + ad_unit.id + " | Lazy load distance " + distance);

    // De opties voor de observer
    var observer_options = {
        rootMargin: '0px 0px ' + distance + ' 0px',
        threshold: 0
    };

    // De functie die bij het in view krijgen gebruikt wordt
    var observer_callback = function(entries, observer) {

        entries.forEach(entry => {

            if (entry.isIntersecting) {

                r89.log("Ad Unit: " + ad_unit.id + " | Slot in view");

                // De slot laten herladen
                googletag.cmd.push(function() {
                    // r89.requestAds(call_prebid_ll, call_amazon_ll, ad_unit_codes_ll, ad_units_ll, amazon_slots_ll, [slot]);
                    googletag.pubads().refresh([slot], {changeCorrelator: false});
                });

                // Geheugen vrijmaken
                observer.unobserve(entry.target);
            }
        });
    };

    // De observer instellen
    var observer = new IntersectionObserver(observer_callback, observer_options);

    // Observe parent node, omdat de normale slot een display none krijft van GPT
    observer.observe(ad_unit.parentNode);
}

r89.insertOnLoadAdUnits = function() {

    r89.log("Tags: Insert On Load Ad Units");

    r89.insertAdUnits = {
        'call_prebid': true,
        'call_amazon': false,
        'amazon_slots': [],
        'ad_unit_codes': [],
        'ad_units': []
    };

    var adunits = new Array();

            adunits.push({"div_id":"r89-desktop-billboard-low","device":"desktop","min_screen_width":null,"max_screen_width":null,"min_screen_height":null,"max_screen_height":null,"infinite_scroll":1,"sizes":[[728,90],[980,90],[970,90]],"sizes_prebid":[[728,90],[980,90],[970,90]],"selector_all":0,"selector":"body","is_sticky_header":0,"bidders_collection_id":14453,"biddersCollection":{"id":14453,"website_id":1273,"name":"Desktop-Pushup-728x90","type":"display","psp_config_id":98111},"position":{"id":1,"name":"appendChild","description":"Append the ad unit to the selector element."},"adSlot":{"id":3,"name":"Desktop-Billboard-Low","publisher_instructions":""},"gam_ad_unit":"1fichiercom\/1fichiercom-Desktop-Pushup","has_amazon":0,"style_parsed":{"textAlign":" center","margin":" 0 auto"},"wrapper":1,"wrapper_style_parsed":{"margin":" 0 auto","position":" fixed","bottom":" 0","left":" 0","right":" 0","maxWidth":" 100%","zIndex":" 9999","backgroundColor":" rgba(255, 255, 255, 1)","borderTop":" 1px solid #ccc","padding":" 10px 0 0 0","boxSizing":" content-box","textAlign":" center"},"show_label":0,"lazy_load":0,"lazy_load_distance":"1.0","refresh":1,"skip_gam":1,"adsense_share":0,"wrapper_sticky":0,"prebid_native":0});
            adunits.push({"div_id":"r89-mobile-sticky-footer","device":"mobile","min_screen_width":null,"max_screen_width":null,"min_screen_height":null,"max_screen_height":null,"infinite_scroll":1,"sizes":[[320,100],[320,180],[300,100],[320,50],[300,50],[2,2],[1,1]],"sizes_prebid":[[320,100],[320,180],[300,100],[320,50],[300,50],[2,2],[1,1]],"selector_all":0,"selector":"body","is_sticky_header":0,"bidders_collection_id":14459,"biddersCollection":{"id":14459,"website_id":1273,"name":"Mobile-Sticky-320x100","type":"display","psp_config_id":105195},"position":{"id":1,"name":"appendChild","description":"Append the ad unit to the selector element."},"adSlot":{"id":14,"name":"Mobile-Footer-Sticky","publisher_instructions":""},"gam_ad_unit":"1fichiercom\/1fichiercom-Mobile-pushup","has_amazon":0,"style_parsed":{"textAlign":" center","margin":" 0 auto"},"wrapper":1,"wrapper_style_parsed":{"position":" fixed","bottom":" 0","left":" 0","right":" 0","maxWidth":" 100%","zIndex":" 9999","backgroundColor":" rgba(255, 255, 255, 1)","borderTop":" 1px solid #ccc","padding":" 10px 0 0 0","boxSizing":" content-box"},"show_label":0,"lazy_load":0,"lazy_load_distance":"1.0","refresh":1,"skip_gam":1,"adsense_share":0,"wrapper_sticky":0,"prebid_native":0});
    
    for (var i = 0; i < adunits.length; i++) {
        r89.insertOnLoadAdUnit(adunits[i]);
    }

    // Set ad ready insert status
    r89.adUnitsInserted = true;
}

r89.insertOnLoadAdUnit = function(adunit) {

    var ad_unit_sizes = [];
    var ad_unit_sizes_prebid = [];

    if (r89.device !== adunit.device) {
        return false;
    }

    if (r89.settings.stickyFooter.divIds.indexOf(adunit.div_id) !== -1) {

        if (r89.cookies.get(r89.settings.stickyFooter.cookieName) !== undefined) {
            return false;
        }
        else if (r89.device == 'mobile' && r89.screenWidth < 360) {
            return false;
        }
        else if (r89.device == 'desktop' && r89.screenWidth < 1024) {
            return false;
        }
    }

    if (adunit.min_screen_width && r89.screenWidth < adunit.min_screen_width) {
        r89.log("Ad Unit: Min screen width of " + adunit.min_screen_width + " not reached - " + adunit.div_id);
        return false;
    }

    if (adunit.max_screen_width && r89.screenWidth > adunit.max_screen_width) {
        r89.log("Ad Unit: Max screen width of " + adunit.max_screen_width + " not reached - " + adunit.div_id);
        return false;
    }

    if (adunit.min_screen_height && r89.screenHeight < adunit.min_screen_height) {
        r89.log("Ad Unit: Min screen height of " + adunit.min_screen_height + " not reached - " + adunit.div_id);
        return false;
    }

    if (adunit.max_screen_height && r89.screenHeight > adunit.max_screen_height) {
        r89.log("Ad Unit: Max screen height of " + adunit.min_screen_width + " not reached - " + adunit.div_id);
        return false;
    }

    // Skip on infinite scroll requests (when loop count is higher then 1)
    if (adunit.infinite_scroll == 0 && r89.settings.loopCount > 1) {
        return false;
    }

    // Manage the ad unit sizes
    for (var i = 0; i < adunit.sizes.length; i++) {
        if (!Array.isArray(adunit.sizes[i]) || adunit.sizes[i].length !== 2 || adunit.sizes[i][0] >= 728) {
            ad_unit_sizes.push(adunit.sizes[i]);
        }
        else if(adunit.sizes[i][0] <= r89.screenWidth) {
            ad_unit_sizes.push(adunit.sizes[i]);
        }
    }

    for (var i = 0; i < adunit.sizes_prebid.length; i++) {
        if (!Array.isArray(adunit.sizes_prebid[i]) || adunit.sizes_prebid[i].length !== 2 || adunit.sizes_prebid[i][0] >= 728) {
            ad_unit_sizes_prebid.push(adunit.sizes_prebid[i]);
        }
        else if(adunit.sizes_prebid[i][0] <= r89.screenWidth) {
            ad_unit_sizes_prebid.push(adunit.sizes_prebid[i]);
        }
    }

    if (adunit.selector_all) {

        var selectors = r89.selectorWindow.querySelectorAll(adunit.selector);
        var selectors_count = 1;

        selectors.forEach(function(selector) {
            r89.insertOnLoadAdUnitPlacement(adunit, ad_unit_sizes, ad_unit_sizes_prebid, selector, selectors_count);
            ++selectors_count;
        });
    }
    else {
        r89.insertOnLoadAdUnitPlacement(adunit, ad_unit_sizes, ad_unit_sizes_prebid, adunit.selector, 0);
    }
};

r89.insertOnLoadAdUnitPlacement = function(adunit, ad_unit_sizes, ad_unit_sizes_prebid, selector, selectors_count) {

    var selector_div_id = adunit.div_id + '-' + r89.settings.loopCount + '-' + selectors_count;

    // console.log(selector_div_id);
    // console.log(ad_unit_sizes);
    // console.log(ad_unit_sizes_prebid);

    if (adunit.is_sticky_header) {
        r89.settings.stickyHeader.divIds.push(selector_div_id);
    }

    var prebid_bidder = false;

    if (adunit.bidders_collection_id && adunit.biddersCollection) {

        // Count amount of times the bidder is used
        ++r89.prebid.bidderCounts[adunit.biddersCollection.name];

        // Add the count to the bidder collections where needed
        for (var i = 0; i < r89.prebid.bids[adunit.biddersCollection.name].length; i++) {

            if (r89.prebid.bids[adunit.biddersCollection.name][i].bidder == 'appnexus') {

                if (r89.prebid.bids[adunit.biddersCollection.name][i].params['keywords'] === undefined) {
                    r89.prebid.bids[adunit.biddersCollection.name][i].params.keywords = {
                        ad_unit_count: r89.prebid.bidderCounts[adunit.biddersCollection.name]
                    };
                }
                else {
                    r89.prebid.bids[adunit.biddersCollection.name][i].params.keywords.ad_unit_count = r89.prebid.bidderCounts[adunit.biddersCollection.name];
                }
            }
        }

        // Clone item into ad unit bid array
        r89.prebid.adunitBids.push(JSON.parse(JSON.stringify(r89.prebid.bids[adunit.biddersCollection.name]) ) );

        var prebid_bidder = r89.prebid.adunitBids[r89.prebid.adunitBids.length - 1];
    }

    if (r89.placeAdUnit(
        selector,
        adunit.position.name,
        selector_div_id,
        adunit.adSlot.name,
        adunit.gam_ad_unit,
        prebid_bidder,
        adunit.has_amazon,
        ad_unit_sizes,
        ad_unit_sizes_prebid,
        adunit.style_parsed,
        (adunit.wrapper) ? 1 : 0,
        adunit.wrapper_style_parsed,
        (adunit.show_label) ? 1 : 0,
        (adunit.lazy_load) ? adunit.lazy_load_distance : 0,
        adunit.refresh,
        0,
        adunit.skip_gam,
        adunit.adsense_share,
        adunit.wrapper_sticky
    ) ) {

        // Amazon slot pushen wanneer deze actief staat
        if (adunit.has_amazon) {
            if (ad_unit_sizes_prebid.length > 0) {
                r89.insertAdUnits.amazon_slots.push({
                    slotID: selector_div_id,
                    sizes: ad_unit_sizes_prebid,
                    slotName: '/' + r89.settings.gamTagNetworkId + '/' + adunit.gam_ad_unit
                });

                r89.insertAdUnits.call_amazon = true;
            }
        }

        // Prebid slot pushen wanneer deze actief staat
        if (prebid_bidder) {

            r89.insertAdUnits.ad_unit_codes.push(selector_div_id);

            var ad_unit_prebid_media_types = {};

            if (adunit.prebid_native) {
                ad_unit_prebid_media_types.native = {
                    type: 'image'
                };
            }

            if (ad_unit_sizes_prebid.length > 0) {
                ad_unit_prebid_media_types.banner = {
                    sizes: ad_unit_sizes_prebid
                };
            }

            // Ad ad unit array
            r89.insertAdUnits.ad_units.push({
                code: selector_div_id,
                                mediaTypes: ad_unit_prebid_media_types,
                bids: prebid_bidder
            });

            r89.insertAdUnits.call_prebid = true;
        }
    }
};

r89.requestAds = function(call_prebid, call_amazon, ad_unit_codes, ad_units, amazon_slots, refresh_slots) {

    // console.log('Call prebid:');
    // console.log(call_prebid);
    // console.log('Call amazon:');
    // console.log(call_amazon);
    // console.log('ad_unit_codes:');
    // console.log(ad_unit_codes);
    // console.log('ad_units:');
    // console.log(ad_units);
    // console.log('amazon_slots:');
    // console.log(amazon_slots);
    // console.log('refresh_slots:');
    // console.log(refresh_slots);

    // Controleren of de ad units niet al ingeladen worden door een ontbrekende disable initial load
    
    // De header bidding partners toevoegen
    var bidders = [];

    if (call_prebid) {
        bidders.push("prebid");
    }

    // Amazon enkel oproepen wanneer nodig
    if (call_amazon) {
        bidders.push("a9");
    }

    if (bidders.length === 0) {
                    r89.log("Ad Units: No bidders, stop refreshing.");
            return;
            }

    var requestManager = {
        adserverRequestSent: false,
    };

    bidders.forEach(function(bidder) {
        requestManager[bidder] = false;
    });

    // Bijhouden of alle bidders gepasseerd zijn
    function allBiddersBack() {
        var allBiddersBack = bidders
            .map(function(bidder) {
                return requestManager[bidder];
            })
            .filter(Boolean)
            .length === bidders.length;
        return allBiddersBack;
    }

    // Er is een bidder klaar, controleren of de request naar DFP eruit kan
    function headerBidderBack(bidder) {
        if (requestManager.adserverRequestSent === true) {
            return;
        }
        if (bidder === 'a9') {
            requestManager.a9 = true;
        } else if (bidder === 'prebid') {
            requestManager.prebid = true;
        }

        if (allBiddersBack()) {
            sendAdserverRequest();
        }
    }

    function renderOne(winningBid) {

        // console.log(winningBid);

        if (winningBid && winningBid.adId) {

            var slotDiv = document.getElementById(winningBid.adUnitCode);

            if (r89.settings.skipGAM.adUnits.includes(winningBid.adUnitCode) && winningBid.cpm > r89.settings.skipGAM.floor && slotDiv) {

                // Measure ad load
                if (r89.measuredAdLoad === false) {
                    r89.measuredAdLoad = true;
                    r89.measure('website', 'ads_load');
                }

                let iframe = document.createElement('iframe');
                iframe.setAttribute('scrolling', 'no');
                iframe.setAttribute('marginheight', '0');
                iframe.setAttribute('marginwidth', '0');
                iframe.setAttribute('frameborder', '0');
                iframe.style.cssText = 'border: 0; padding: 0; margin: 0';

                slotDiv.appendChild(iframe);

                var iframeDoc = iframe.contentWindow.document;
                r89_pbjs.renderAd(iframeDoc, winningBid.adId);

                // Make floorad
                if (r89.settings.stickyFooter.divIds.indexOf(winningBid.adUnitCode) !== -1) {

                    // Place capping cookies
                    r89.stickyFooter.placeCookies();

                    // Get parent element
                    var slotDivParent = slotDiv.parentNode;

                    if (r89.settings.stickyFooter.prebidBidderCodesFilter.indexOf(winningBid.bidderCode) === -1) {

                        // Protect against large ads
                        slotDiv.style.maxHeight = r89.settings.stickyFooter.maxHeight;
                        slotDiv.style.overflow = "hidden";

                        // Check if there is already a close button
                        var stickyCloseButtonExist = slotDivParent.querySelector("." + r89.settings.stickyFooter.closeButtonClass);

                        if (stickyCloseButtonExist == null) {

                            var stickyFooterWidth = winningBid.width;
                            var stickyFooterHeight = winningBid.height;

                            // Create close button
                            r89.stickyFooter.closeButton(slotDivParent);

                            if ((r89.device == 'desktop' && r89.settings.stickyFooter.desktopTimeout > 0) || (r89.device == 'mobile' && r89.settings.stickyFooter.mobileTimeout > 0) ) {

                                setTimeout(function() {

                                    if (slotDivParent !== null) {

                                        slotDivParent.style.transition = "bottom 0.5s ease-in-out";
                                        slotDivParent.style.bottom = "-" + stickyFooterHeight + "px";

                                        setTimeout(function() {
                                            closeStickyFooterButton.style.display = "none";
                                            slotDivParent.style.position = "static";
                                            slotDivParent.style.backgroundColor = "transparent";
                                        }, 500);
                                    }

                                }, (r89.device == 'desktop' ? r89.settings.stickyFooter.desktopTimeout * 1000 : r89.settings.stickyFooter.mobileTimeout * 1000) );
                            }
                        }
                    }
                    else {
                        slotDivParent.style.display = "none";
                    }
                }
            }
        }
    }

    // De request naar DFP sturen
    function sendAdserverRequest() {

        if (requestManager.adserverRequestSent === true) {
            return;
        }

        r89.log("Ad Units: Sent ad server request");

        requestManager.adserverRequestSent = true;
        r89_pbjs.adserverRequestSent = true;

        requestManager.sendAdserverRequest = true;

        
        r89_pbjs.que.push(function() {
            var winners = r89_pbjs.getHighestCpmBids();
            for (var i = 0; i < winners.length; i++) {
                renderOne(winners[i]);
            }
        });

        window.aax = window.aax || {};
        window.aax.cmd= window.aax.cmd || [];
        window.aax.cmd.push(function () {
            if (window.aax.getAbpStatus()) {
                r89.log("AAX: Adblock running.");
                window.googletag = window.googletag || {};
                window.googletag.cmd = window.googletag.cmd || [];
                window.googletag.cmd.push(function () {
                    googletag.pubads().refresh(refresh_slots);
                });
            }
        });
    }

    // De Amazon bids ophalen
    if (call_amazon) {
        apstag.fetchBids({
            slots: amazon_slots,
            timeout: r89.timeouts.prebid
        }, function(bids) {
            googletag.cmd.push(function() {
                r89.log("Ad Units: Apstag bids back handler");
                apstag.setDisplayBids();
                headerBidderBack('a9');
            });
        });
    }

    // De prebid bids ophalen
    if (call_prebid) {
        r89_pbjs.que.push(function() {

            r89.log("Ad Units: Push PBJS");

            r89_pbjs.requestBids({
                timeout: r89.timeouts.prebid,
                // adUnitCodes: ad_unit_codes,
                adUnits: ad_units,
                bidsBackHandler: function(bids) {
                    r89.log("Ad Units: PBJS bids back handler");
                    headerBidderBack('prebid');
                }
            });
        });
    }

    window.setTimeout(function() {
        r89.log("Ad Units: Requests timeout");
        sendAdserverRequest();
    }, r89.timeouts.prebid * 1.25);
};
r89.insertCustomAdUnits = function() {

    r89.log("Tags: Insert Custom Ad Units");

    };
r89.insertLotame = function() {

    // Check if content value are set
    if (r89.keyValues.lotameContentTaxonomy.length === 0) {
        return false;
    }

    var lotameClientId = '15926';
    var lotameTagInput = {
        data: {
            behaviors: {
                genp: r89.keyValues.lotameContentTaxonomy
            }
        },
        config: {
            clientId: Number(lotameClientId)
        }
    };

    // Lotame initialization
    var lotameConfig = lotameTagInput.config || {};
    var namespace = window['lotame_' + lotameConfig.clientId] = {};
    namespace.config = lotameConfig;
    namespace.data = lotameTagInput.data || {};
    namespace.cmd = namespace.cmd || [];

    var script = document.createElement('script');
    script.src = 'https://tags.crwdcntrl.net/lt/c/15926/lt.min.js';
    script.type = 'text/javascript';
    script.async = true;
    r89.head.appendChild(script);
};
r89.gptInsert = function() {

    if (window.googletag && googletag.apiReady) {
        r89.gptPublisherInitialized = true;
        r89.log("GPT: Initialized on publisher page.")
    }

    // GPT nog niet geladen, deze toevoegen
    if (r89.gptPublisherInitialized == false) {
        var script = document.createElement('script');
        script.src = 'https://securepubads.g.doubleclick.net/tag/js/gpt.js';
        script.type = 'text/javascript';
        script.async = true;
        r89.head.appendChild(script);

        r89.log("GPT: Loaded by R89.");
    }

    // GPT config inladen
    googletag.cmd.push(function() {

        // Center all ads
        googletag.pubads().setCentering(true);

        // Website doorgeven
        googletag.pubads().setTargeting('site', r89.settings.website);
        googletag.pubads().setTargeting('publisher', '399');

        if (r89.keyValues.iabContentTaxonomy.length > 0) {
            googletag.pubads().setTargeting('iab_content_taxonomy', r89.keyValues.iabContentTaxonomy);
        }

        // Restricted ads
        if (r89.restrictedAds) {
            googletag.pubads().setTargeting('restricted', '1');
        }

                    googletag.pubads().setTargeting('yield_partners', ["2","5","7","1","4","6","8","9","10","11"]);
        
        
        // Opgeven of het een preview pagina is voor testen
        if (r89.preview) {
            googletag.pubads().setTargeting('preview', 'yes');
        }

        // Set custom key values from the publisher
        if (typeof r89.pageConfig !== 'undefined' && typeof r89.pageConfig.targetingKeys === 'object') {
            for (var targetingKey in r89.pageConfig.targetingKeys) {
                googletag.pubads().setTargeting(targetingKey, r89.pageConfig.targetingKeys[targetingKey]);
            }
        }

        // Consent signaal opgeven
        if (r89.cmp.setRequestNonPersonalizedAds) {
            r89.log("CMP: Set Non Personalized Ads.");
            googletag.pubads().setRequestNonPersonalizedAds(1);
        }

        googletag.pubads().disableInitialLoad();
        googletag.pubads().collapseEmptyDivs(true);
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();

        // Fire ads_load event when the ads are requested
        googletag.pubads().addEventListener('slotRequested', function(event) {

            if (r89.measuredAdLoad === false) {
                r89.measuredAdLoad = true;
                r89.measure('website', 'ads_load');
            }
        });

        // Bepalen wat er na het renderen gebeurt
        googletag.pubads().addEventListener('slotRenderEnded', function(event) {

            // De slot ID en div ophalen
            var slotId = event.slot.getSlotElementId();
            var slotDiv = document.getElementById(slotId);

            if (event.isEmpty == false) {

                // Als de slot div niet bestaat, de rest overslaan (zou niet mogen gebeuren)
                if (slotDiv === null) {
                    return false;
                }

                // Set max size for Amazon takeovers
                if (event.campaignId === 2541852438) {
                    if (slotId.includes('takeover') ) {
                        slotDiv.style.maxHeight = '250px';
                        slotDiv.style.overflow = 'hidden';
                    }
                }

                
                if (slotId in r89.settings.refresh.adUnits) {

                    r89.log("refresh ad unit: " + slotId);

                    r89.settings.refresh.adUnits[slotId].latestRefresh = Date.now();

                    // Check if order ID is AdX
                    if (r89.settings.refresh.adxOrderIds.indexOf(event.campaignId) > -1) {

                        r89.settings.refresh.adUnits[slotId].size = event.size;

                        // if (r89.settings.refresh.allowedHeights.indexOf(event.size[1]) === -1) {
                        //     r89.log("Remove ad unit from refresh list (allowed height): " + slotId);
                        //     r89.settings.refresh.adUnits[slotId].useRefresh = false;
                        // }
                        // else {
                        //     r89.settings.refresh.adUnits[slotId].size = event.size;
                        //
                        //     slotDiv.style.height = r89.settings.refresh.adUnits[slotId].size[1] + "px";
                        // }
                    }
                    // Check if order ID in allowed Prebid list
                    else if (r89.settings.refresh.prebidOrderIds.indexOf(event.campaignId) > -1) {

                        var prebid_refresh_size = event.slot.getTargeting("hb_size");

                        if (prebid_refresh_size.length > 0) {

                            prebid_refresh_size = prebid_refresh_size[0].split("x");

                            if (prebid_refresh_size.length !== 2) {
                                r89.log("Remove ad unit from refresh list (size array invalid): " + slotId);
                                r89.settings.refresh.adUnits[slotId].useRefresh = false;
                            }
                            else {

                                prebid_refresh_size = [
                                    parseInt(prebid_refresh_size[0]),
                                    parseInt(prebid_refresh_size[1])
                                ];

                                r89.settings.refresh.adUnits[slotId].size = prebid_refresh_size;

                                // console.log(prebid_refresh_size);
                                // console.log(r89.settings.refresh.allowedHeights.indexOf(prebid_refresh_size[1]) );
                                //
                                // if (r89.settings.refresh.allowedHeights.indexOf(prebid_refresh_size[1]) === -1) {
                                //     r89.log("Remove ad unit from refresh list (allowed height): " + slotId);
                                //     r89.settings.refresh.adUnits[slotId].useRefresh = false;
                                // }
                                // else {
                                //     console.log("refresh ad unit allowed size: " + slotId);
                                //     r89.settings.refresh.adUnits[slotId].size = prebid_refresh_size;
                                //
                                //     slotDiv.style.height = r89.settings.refresh.adUnits[slotId].size[1] + "px";
                                // }
                            }
                        }
                        else {
                            r89.log("Remove Prebid ad unit from refresh list: " + slotId);

                            r89.settings.refresh.adUnits[slotId].useRefresh = false;
                        }
                    }
                    // When not AdX or allowed prebid, don't refresh
                    else {
                        r89.settings.refresh.adUnits[slotId].useRefresh = false;

                        r89.log("Remove ad unit from refresh list: " + slotId);
                    }
                }
                
                // Controleren of het om een sticky footer ad unit gaat om extra instellingen door te geven
                if (r89.settings.stickyFooter.divIds.indexOf(slotId) !== -1) {

                    // Place capping cookies
                    r89.stickyFooter.placeCookies();

                    // Get parent element
                    var slotDivParent = slotDiv.parentNode;

                    if (r89.settings.stickyFooter.gamOrderIdsFilter.indexOf(event.campaignId) === -1) {

                        // Protect against large ads, but leave option for video native
                        // console.log(event);
                        // if (event.size[1] == 180 && event.campaignId !== 2371513412) {
                        if (event.size[1] == 180) {
                            slotDiv.style.maxHeight = "180px";
                        }
                        else {
                            slotDiv.style.maxHeight = r89.settings.stickyFooter.maxHeight;
                        }

                        slotDiv.style.overflow = "hidden";

                        // Check if there is already a close button
                        var stickyCloseButtonExist = slotDivParent.querySelector("." + r89.settings.stickyFooter.closeButtonClass);

                        if (stickyCloseButtonExist == null) {

                            // console.log(event.campaignId);

                            var stickyFooterWidth = event.size[0];
                            var stickyFooterHeight = event.size[1];

                            if (event.size[0] == 1 && event.size[1] == 1) {
                                var prebid_size = event.slot.getTargeting("hb_size");

                                if (prebid_size.length > 0) {
                                    prebid_size = prebid_size[0].split("x");
                                    stickyFooterWidth = prebid_size[0];
                                    stickyFooterHeight = prebid_size[1];
                                }
                            }

                            if (stickyFooterWidth == 2 && stickyFooterHeight == 2) {
                                slotDivParent.style.display = "none";
                                return false;
                            }

                            // Create close button
                            r89.stickyFooter.closeButton(slotDivParent);

                            if ((r89.device == 'desktop' && r89.settings.stickyFooter.desktopTimeout > 0) || (r89.device == 'mobile' && r89.settings.stickyFooter.mobileTimeout > 0) ) {

                                setTimeout(function() {

                                    if (slotDivParent !== null) {

                                        slotDivParent.style.transition = "bottom 0.5s ease-in-out";
                                        slotDivParent.style.bottom = "-" + stickyFooterHeight + "px";

                                        setTimeout(function() {
                                            closeStickyFooterButton.style.display = "none";
                                            slotDivParent.style.position = "static";
                                            slotDivParent.style.backgroundColor = "transparent";
                                        }, 500);
                                    }

                                }, (r89.device == 'desktop' ? r89.settings.stickyFooter.desktopTimeout * 1000 : r89.settings.stickyFooter.mobileTimeout * 1000) );
                            }
                        }
                    }
                    else {
                        slotDivParent.style.display = "none";
                    }
                }
                else if (r89.settings.stickyHeader.divIds.indexOf(slotId) !== -1) {

                    // Get parent element
                    var slotDivParent = slotDiv.parentNode;

                    if (r89.settings.stickyHeader.gamOrderIdsFilter.indexOf(event.campaignId) === -1) {

                        slotDiv.style.maxHeight = r89.settings.stickyHeader.maxHeight;

                        slotDiv.style.overflow = "hidden";

                        // Check if there is already a close button
                        var stickyCloseButtonExist = slotDivParent.querySelector("." + r89.settings.stickyHeader.closeButtonClass);

                        if (stickyCloseButtonExist == null) {

                            // console.log(event.campaignId);

                            var stickyHeaderWidth = event.size[0];
                            var stickyHeaderHeight = event.size[1];

                            if (event.size[0] == 1 && event.size[1] == 1) {
                                var prebid_size = event.slot.getTargeting("hb_size");

                                if (prebid_size.length > 0) {
                                    prebid_size = prebid_size[0].split("x");
                                    stickyHeaderWidth = prebid_size[0];
                                    stickyHeaderHeight = prebid_size[1];
                                }
                            }

                            if (stickyHeaderWidth == 2 && stickyHeaderHeight == 2) {
                                slotDivParent.style.display = "none";
                                return false;
                            }

                            // Create close button
                            r89.stickyHeader.closeButton(slotDivParent);
                        }
                    }
                    else {
                        slotDivParent.style.display = "none";
                    }
                }

                // Show ad label is available
                var slotAdLabel = slotDiv.previousElementSibling;
                if (slotAdLabel && slotAdLabel.classList.contains("r89-ad-label") ) {
                    slotAdLabel.style.display = "block";
                }
            }
            else {
                // Check for floorad
                if (r89.settings.stickyFooter.divIds.indexOf(slotId) !== -1) {

                    if (slotId in r89.settings.refresh.adUnits) {
                        r89.settings.refresh.adUnits[slotId].useRefresh = false;
                    }

                    var slotDivParent = slotDiv.parentNode;
                    slotDivParent.parentNode.removeChild(slotDivParent);
                }
                else if (r89.settings.stickyHeader.divIds.indexOf(slotId) !== -1) {

                    if (slotId in r89.settings.refresh.adUnits) {
                        r89.settings.refresh.adUnits[slotId].useRefresh = false;
                    }

                    var slotDivParent = slotDiv.parentNode;
                    slotDivParent.parentNode.removeChild(slotDivParent);
                }
            }
        });

        
        // Decide on reload settings
        googletag.pubads().addEventListener('impressionViewable', function (event) {

            var adSlotId = event.slot.getSlotElementId();

            if (adSlotId in r89.settings.refresh.adUnits) {

                r89.settings.refresh.adUnits[adSlotId].viewable = true;

                // r89.log(event.slot.getSlotElementId() + " viewable");
            }
        });

        // Keep track of visibility for refresh purposes
        googletag.pubads().addEventListener('slotVisibilityChanged', function (event) {

            var adSlotId = event.slot.getSlotElementId();

            if (adSlotId in r89.settings.refresh.adUnits) {

                // r89.log(event.slot.getSlotElementId() + " inview for " + event.inViewPercentage + "%");

                if (event.inViewPercentage > 50) {
                    r89.settings.refresh.adUnits[adSlotId].inview = true;
                }
                else {
                    r89.settings.refresh.adUnits[adSlotId].inview = false;
                }

                if (event.inViewPercentage > 50 && r89.settings.refresh.adUnits[adSlotId].timer === null) {

                    // console.log('in view, run interval');

                    r89.settings.refresh.adUnits[adSlotId].timer = window.setInterval(function() {
                        // r89.log(event.slot.getSlotElementId() + "Timeout function: " + r89.settings.refresh.adUnits[adSlotId].timeInview);
                        r89.settings.refresh.adUnits[adSlotId].timeInview += 1200;
                    }, 1200);
                }
                else {
                    window.clearInterval(r89.settings.refresh.adUnits[adSlotId].timer);
                    r89.settings.refresh.adUnits[adSlotId].timer = null;
                    // r89.log(event.slot.getSlotElementId() + "Cleared timer");
                }
            }
        });
            });
};

r89.pbjsInsert = function() {
    // Prebid toevoegen
    var script = document.createElement('script');
    script.src = "https://tags.refinery89.com/prebid/prebid6.29.3.js";
    script.type = 'text/javascript';
    script.async = true;
    r89.head.appendChild(script);

    // Prebid config inladen
    r89_pbjs.que.push(function() {

        // Supply chain object
        var schain = {
            "validation": "strict",
            "config": {
                "ver": "1.0",
                "complete": 1,
                "nodes": [
                    {
                        "asi": "refinery89.com",
                        "sid": "00399",
                        // "rid": "0925DDCB-CAB1-44C0-B595-E305023E5260",
                        "hp": 1
                    }
                ]
            }
        };

        var currencyModule = {
            "adServerCurrency": "EUR",
            "granularityMultiplier": 1,
            "rates": { "USD": { "USD": 1, "EUR": 0.920160 }},
            // "defaultRates": { "USD": { "EUR": 0.97, "GBP": 0.83 }}
        };

                    r89.log("Tags: Load Prebid Config.");
            r89_pbjs.setConfig({
                bidderSequence: "fixed",
                consentManagement: {
                    cmpApi: 'iab',
                    timeout: r89.timeouts.prebidCmp,
                    allowAuctionWithoutConsent: r89.cmp.allowAuctionWithoutConsent
                },
                priceGranularity: r89.prebid.priceGranularity,
                improvedigital: {
                    usePrebidSizes: true,
                    singleRequest: true
                },
                outbrain: {
                    bidderUrl: 'https://b1h.zemanta.com/api/bidder/prebid/bid/',
                    usersyncUrl: 'https://b1h.zemanta.com/usersync/prebid'
                },
                rubicon: {
                    rendererConfig: {
                        align: 'center',
                        position: 'append',
                        closeButton: false,
                        label: 'Advertisement',
                        collapse: true
                    }
                },
                schain: schain,
                currency: currencyModule,
                userSync: {
                    aliasSyncEnabled: true,
                    userIds: [
                        {
                            name: "unifiedId",
                            params: {
                                url: "//match.adsrvr.org/track/rid?ttd_pid=6aarzke&fmt=json"
                            },
                            storage: {
                                type: "cookie",
                                name: "pbjs-unifiedid",
                                expires: 60
                            }
                        },
                        {
                            name: 'sharedId',
                            storage: {
                                name: '_sharedID',
                                type: 'cookie',
                                expires: 30
                            }
                        },
                                            ],
                    syncDelay: 5000,
                    syncsPerBidder: 3,
                    filterSettings: {
                        iframe: {
                            bidders: ['operaads', 'freewheel-ssp', 'adpone', 'medianet'],
                            filter: 'exclude'
                        }
                    }
                },
                cache: {
                    url: 'https://prebid.adnxs.com/pbc/v1/cache'
                },
                targetingControls: {
                    allowTargetingKeys: [
                        'BIDDER',
                        'AD_ID',
                        'PRICE_BUCKET',
                        'SIZE',
                        'DEAL',
                        'FORMAT',
                        'UUID',
                        'CACHE_ID',
                        'CACHE_HOST',
                        'title',
                        'body',
                        'body2',
                        'sponsoredBy',
                        'image',
                        'icon',
                        'clickUrl',
                        'displayUrl',
                        'cta'
                    ]
                },
                appnexusAuctionKeywords: {
                    iab_content_taxonomy: r89.keyValues.iabContentTaxonomy
                }
            });
        
        // Bidder specific supply chain object
        r89_pbjs.setBidderConfig({
            "bidders": ['weborama'],
            "config": {
                "schain": {
                    "validation": "strict",
                    "config": {
                        "ver":"1.0",
                        "complete": 1,
                        "nodes": [
                            {
                                "asi": "refinery89.com",
                                "sid": "00399",
                                "hp": 1
                            },
                            {
                                "asi":"weborama.nl",
                                "sid":"10691",
                                "hp":1
                            }
                        ]
                    }
                }
            }
        });

        r89_pbjs.aliasBidder('improvedigital', 'weborama');
        r89_pbjs.aliasBidder('appnexus', 'nextdaymedia');
        r89_pbjs.aliasBidder('appnexus', 'gps_appnexus');
        r89_pbjs.aliasBidder('appnexus', 'weborama_appnexus');
        r89_pbjs.aliasBidder('appnexus', 'tl_appnexus');
        r89_pbjs.aliasBidder('rubicon', 'tl_rubicon');
        r89_pbjs.aliasBidder('adform', 'tl_adform');
        r89_pbjs.aliasBidder('teads', 'tl_teads');
        r89_pbjs.aliasBidder('pubmatic', 'tl_pubmatic');
        r89_pbjs.aliasBidder('richaudience', 'tl_richaudience');
        // r89_pbjs.addAdUnits(adUnits);

        r89_pbjs.bidderSettings = {
            standard: {
                adserverTargeting: [{
                    key: "hb_bidder",
                    val: function(bidResponse) {
                        return bidResponse.bidderCode;
                    }
                }, {
                    key: "hb_adid",
                    val: function(bidResponse) {
                        return bidResponse.adId;
                    }
                }, {
                    key: "hb_pb",
                    val: function(bidResponse) {
                        return bidResponse.pbCg;
                    }
                }, {
                    key: "hb_deal",
                    val: function(bidResponse) {
                        return bidResponse.dealId;
                    }
                }, {
                    key: 'hb_size',
                    val: function (bidResponse) {

                        // console.log(bidResponse);

                        /*
                        if (bidResponse.size == "1800x1000" || bidResponse.size == "970x1000") {
                            // console.log("Bid size: " + bidResponse.size);
                            // bidResponse.height = 250;
                            // bidResponse.width = 970;
                            // bidResponse.size = "970x250";

                            // var bidElement = document.getElementById(bidResponse.adUnitCode);
                            // console.log(bidElement);

                            if (bidElement !== null) {
                                bidElement.style.maxHeight = "250px";
                                bidElement.style.overflow = "hidden";
                            }

                        }
                        */
                        return bidResponse.size;
                    }
                }, {
                    key: 'hb_source',
                    val: function (bidResponse) {
                        return bidResponse.source;
                    }
                }, {
                    key: 'hb_format',
                    val: function (bidResponse) {
                        return bidResponse.mediaType;
                    }
                }]
            },
                                                                                                                                                                adyoulike: {
                        bidCpmAdjustment : function(bidCpm, bid) {
                            return bidCpm * 0.85;
                        }
                    },
                                                                                                                                                                                                            gps_appnexus: {
                        bidCpmAdjustment : function(bidCpm, bid) {
                            return bidCpm * 1.30;
                        }
                    },
                                                                                            gps_appnexus: {
                        bidCpmAdjustment : function(bidCpm, bid) {
                            return bidCpm * 1.30;
                        }
                    },
                                                                improvedigital: {
                        bidCpmAdjustment : function(bidCpm, bid) {
                            return bidCpm * 0.80;
                        }
                    },
                                                                                                                                                                                                                                        nextdaymedia: {
                        bidCpmAdjustment : function(bidCpm, bid) {
                            return bidCpm * 0.55;
                        }
                    },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        tl_adform: {
                        bidCpmAdjustment : function(bidCpm, bid) {
                            return bidCpm * 0.92;
                        }
                    },
                                                                tl_appnexus: {
                        bidCpmAdjustment : function(bidCpm, bid) {
                            return bidCpm * 0.92;
                        }
                    },
                                                                                                                        tl_rubicon: {
                        bidCpmAdjustment : function(bidCpm, bid) {
                            return bidCpm * 0.92;
                        }
                    },
                                                                                                                                                    weborama: {
                        bidCpmAdjustment : function(bidCpm, bid) {
                            return bidCpm * 0.75;
                        }
                    },
                                                                };

                r89_pbjs.enableAnalytics([{
            provider: 'adagio'
        }]);

        
        r89_pbjs.onEvent('bidWon', function(data) {

            if (data.size == "1800x1000" || data.size == "970x1000") {

                var bidElement = document.getElementById(data.adUnitCode);
                // console.log(data.adUnitCode);
                // console.log(bidElement);

                if (bidElement !== null) {
                    r89.log('Change 1800x1000 height.');
                    bidElement.style.maxHeight = "250px";
                    bidElement.style.overflow = "hidden";
                }

            }
        });
    });
}

r89.tagsLoadPrepare = function() {

    if (r89.tagsLoadPrepareStatus) {
        r89.log("tagsLoadPrepare already called.");
        return false;
    }

    r89.tagsLoadPrepareStatus = true;

    // Namespace inladen
    r89.loadNamespace();

    // Key values inladen
    r89.loadKeyValues();

    
    // Sticky sidebar invoegen
    if (typeof r89.insertStickySidebar === 'function') {
        r89.insertStickySidebar();
    }

    // Insert article positions
    if (typeof r89.articlePositions === 'function') {
        r89.articlePositions();
    }

    // Check for prioritized custom ad units, since they might rely on the CMP
    if (!r89.settings.prioritizeCustomAdUnits) {
        r89.insertOnLoadAdUnits();
    }
};

// URL filter for exact matches
if (r89.settings.filter.blocked.urls.exact.indexOf(r89.currentUrl.path) !== -1) {
    r89.processAds = false;
}
else {
    // URL filter for partial matches
    for (var i = 0; i < r89.settings.filter.blocked.urls.partial.length; i++) {
        if (r89.currentUrl.href.indexOf(r89.settings.filter.blocked.urls.partial[i]) !== -1 ) {
            r89.processAds = false;
            break;
        }
    }
}

// URL filter for exact matches
if (r89.settings.filter.restricted.urls.exact.indexOf(r89.currentUrl.path) !== -1) {
    r89.restrictedAds = true;
    r89.log("Tags: Restrict ads.");
}
else {
    // URL filter for partial matches
    for (var i = 0; i < r89.settings.filter.restricted.urls.partial.length; i++) {
        if (r89.currentUrl.href.indexOf(r89.settings.filter.restricted.urls.partial[i]) !== -1 ) {
            r89.restrictedAds = true;
            r89.log("Tags: Restrict ads.");
            break;
        }
    }
}

// Check for noAds value
if (typeof noAds !== 'undefined' && noAds === true) {
    r89.processAds = false;
    r89.log("Tags: Found noAds setting.");
}

// Process afbreken als er geen ads op deze pagina horen
if (r89.processAds === false) {
    r89.log("Tags: Tag insert stopped.");
}
else {

    
    var r89_pbjs = r89_pbjs || {};
    r89_pbjs.que = r89_pbjs.que || [];

    // Amazon toevoegen wanneer gevraagd
    
    
    if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", r89.tagsLoadPrepare);
    } else {
        r89.tagsLoadPrepare();
    }
}
(function() {
  var host = window.location.hostname;
var element = document.createElement('script');
var firstScript = document.getElementsByTagName('script')[0];
var url = 'https://cmp.quantcast.com'
  .concat('/choice/', 'He6NsVBfMn23v', '/', host, '/choice.js?tag_version=V2');
var uspTries = 0;
var uspTriesLimit = 3;
element.async = true;
element.type = 'text/javascript';
element.src = url;

firstScript.parentNode.insertBefore(element, firstScript);

function makeStub() {
  var TCF_LOCATOR_NAME = '__tcfapiLocator';
  var queue = [];
  var win = window;
  var cmpFrame;

  function addFrame() {
    var doc = win.document;
    var otherCMP = !!(win.frames[TCF_LOCATOR_NAME]);

    if (!otherCMP) {
      if (doc.body) {
        var iframe = doc.createElement('iframe');

        iframe.style.cssText = 'display:none';
        iframe.name = TCF_LOCATOR_NAME;
        doc.body.appendChild(iframe);
      } else {
        setTimeout(addFrame, 5);
      }
    }
    return !otherCMP;
  }

  function tcfAPIHandler() {
    var gdprApplies;
    var args = arguments;

    if (!args.length) {
      return queue;
    } else if (args[0] === 'setGdprApplies') {
      if (
        args.length > 3 &&
        args[2] === 2 &&
        typeof args[3] === 'boolean'
      ) {
        gdprApplies = args[3];
        if (typeof args[2] === 'function') {
          args[2]('set', true);
        }
      }
    } else if (args[0] === 'ping') {
      var retr = {
        gdprApplies: gdprApplies,
        cmpLoaded: false,
        cmpStatus: 'stub'
      };

      if (typeof args[2] === 'function') {
        args[2](retr);
      }
    } else {
      if(args[0] === 'init' && typeof args[3] === 'object') {
        args[3] = Object.assign(args[3], { tag_version: 'V2' });
      }
      queue.push(args);
    }
  }

  function postMessageEventHandler(event) {
    var msgIsString = typeof event.data === 'string';
    var json = {};

    try {
      if (msgIsString) {
        json = JSON.parse(event.data);
      } else {
        json = event.data;
      }
    } catch (ignore) {}

    var payload = json.__tcfapiCall;

    if (payload) {
      window.__tcfapi(
        payload.command,
        payload.version,
        function(retValue, success) {
          var returnMsg = {
            __tcfapiReturn: {
              returnValue: retValue,
              success: success,
              callId: payload.callId
            }
          };
          if (msgIsString) {
            returnMsg = JSON.stringify(returnMsg);
          }
          if (event && event.source && event.source.postMessage) {
            event.source.postMessage(returnMsg, '*');
          }
        },
        payload.parameter
      );
    }
  }

  while (win) {
    try {
      if (win.frames[TCF_LOCATOR_NAME]) {
        cmpFrame = win;
        break;
      }
    } catch (ignore) {}

    if (win === window.top) {
      break;
    }
    win = win.parent;
  }
  if (!cmpFrame) {
    addFrame();
    win.__tcfapi = tcfAPIHandler;
    win.addEventListener('message', postMessageEventHandler, false);
  }
};

makeStub();

var uspStubFunction = function() {
  var arg = arguments;
  if (typeof window.__uspapi !== uspStubFunction) {
    setTimeout(function() {
      if (typeof window.__uspapi !== 'undefined') {
        window.__uspapi.apply(window.__uspapi, arg);
      }
    }, 500);
  }
};

var checkIfUspIsReady = function() {
  uspTries++;
  if (window.__uspapi === uspStubFunction && uspTries < uspTriesLimit) {
    console.warn('USP is not accessible');
  } else {
    clearInterval(uspInterval);
  }
};

if (typeof window.__uspapi === 'undefined') {
  window.__uspapi = uspStubFunction;
  var uspInterval = setInterval(checkIfUspIsReady, 6000);
}
})();

const cmp_callback = (tcData, success) => {

    if (tcData.gdprApplies) {

        if (success && (tcData.eventStatus === 'tcloaded' || tcData.eventStatus === 'useractioncomplete') ) {

            // do something with tcData.tcString
            r89.log("CMP: Quantcast opt in done.");

            r89.cmp.consentString = tcData.tcString;

            var c = tcData.publisher.consents;
            var v = tcData.vendor.consents;
            var p = tcData.purpose.consents;

            if ((typeof c[1] === "undefined" || c[1] === false) && (typeof p[1] === "undefined" || p[1] === false)) {
                r89.log("CMP: No consent for Purpose 1. Stop ad requests.");
                r89.cmp.cookieConsent = false;
            }
            else if ((typeof c[3] === "undefined" || c[3] === false || typeof c[4] === "undefined" || c[4] === false) && (typeof p[3] === "undefined" || p[3] === false || typeof p[4] === "undefined" || p[4] === false) ) {
                r89.log("CMP: No consent for Purpose 3 or 4. Set non-personalized ads.");
                r89.cmp.setRequestNonPersonalizedAds = true;
            }

            
            r89.log("CMP: Call remove event listener.");

            r89.readyStateTagsLoad();

            // remove the listener to not get called more than once
            __tcfapi('removeEventListener', 2, (success) => {

                r89.log("CMP: Remove event listener.");

                if (success && r89.cmp.cookieConsent) {
                    r89.log("CMP: Remove event listener success.");
                    // r89.readyStateTagsLoad();
                }

            }, tcData.listenerId);

        }
    }
    else {
        r89.readyStateTagsLoad();
    }

}

__tcfapi('addEventListener', 2, cmp_callback);

r89.log("CMP: Loaded.");


